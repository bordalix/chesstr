<script src="./js/jquery-3.6.2.min.js"></script>
<script src="./js/chessboard-1.0.0.min.js"></script>
<script src="./js/chess-1.0.0-alpha.0.min.js"></script>

<script src="https://bitcoincore.tech/apps/bitcoinjs-ui/lib/bitcoinjs-lib.js"></script>
<script src="https://bundle.run/bip32@2.0.6"></script>
<script src="https://bundle.run/buffer@6.0.3"></script>
<script src="https://bundle.run/noble-secp256k1@1.2.14"></script>

<link rel="stylesheet" href="css/chess.css" />
<link rel="stylesheet" href="css/chessboard-1.0.0.min.css" />

<section id="chess">
  <h1>Chesstr</h1>
  <h3>A chessboard powered by Nostr</h3>
  <p id="status"></p>
  <div id="topPieces" class="pieces"></div>
  <div id="board1"></div>
  <div id="bottomPieces" class="pieces"></div>
  <div class="buttons">
    <p><button id="resetGame">Reset game</button></p>
    <p><button id="flipBoard">Flip board</button></p>
  </div>
  <details>
    <summary>Know more</summary>
    <p>Just create a random url and share it with your friend.</p>
    <p>
      The full url is used as the seed for the private key, so the same url
      means the same key.
    </p>
    <p>
      Using nostr, each client subscribe to itself, and sends an event to itself
      when the board changes, putting them in sync.
    </p>
    <p>
      Try it at
      <a href="https://chesstr.pages.dev?1234">
        https://chesstr.pages.dev?1234 </a
      ><br />
      (change <u>1234</u> to some random number)
    </p>
    <p>
      Repo at
      <a href="https://github.com/bordalix/chesstr"
        >https://github.com/bordalix/chesstr</a
      >
    </p>
  </details>
  <p id="nostr">Connecting to nostr relay</p>
</section>

<script src="./js/script.js"></script>
<script src="./js/nostr.js"></script>
